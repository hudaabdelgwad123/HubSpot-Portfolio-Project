{% set spacing = module.style.spacing.spacing_field %} {% set mobile_spacing =
module.style.spacing.mobile_spacing %} {% set bg_color =
module.style.background.bg_color %} {% set container_size =
module.style.container.select_size %} {% set custom_width =
module.style.container.custom_width %} {% set card = module.style.card %} {% set
overlay = module.style.overlay %} {% set category_badge =
module.style.category_badge %} {% set featured_badge =
module.style.featured_badge %} {% set tags = module.style.tags %} {% set filters
= module.style.filters %} {% set typography = module.style.typography %} {% set
container_class = 'projects-showcase__container' %} {% if container_size ==
'full_width' %} {% set container_class = 'projects-showcase__container--full' %}
{% elif container_size == 'custom' %} {% set container_class =
'projects-showcase__container--custom' %} {% endif %}

<section
  class="projects-showcase__section"
  id="projects"
  style="
    --section-bg: {{ bg_color.color|default('#ffffff') }};
    --section-bg-opacity: {{ bg_color.opacity|default(100) }}%;
    --spacing-top: {{ spacing.padding.top.value|default(80) }}{{ spacing.padding.top.units|default('px') }};
    --spacing-bottom: {{ spacing.padding.bottom.value|default(80) }}{{ spacing.padding.bottom.units|default('px') }};
    --spacing-left: {{ spacing.padding.left.value|default(20) }}{{ spacing.padding.left.units|default('px') }};
    --spacing-right: {{ spacing.padding.right.value|default(20) }}{{ spacing.padding.right.units|default('px') }};
    {% if module.style.spacing.change_mobile_spacing %}
    --mobile-spacing-top: {{ mobile_spacing.padding.top.value|default(60) }}{{ mobile_spacing.padding.top.units|default('px') }};
    --mobile-spacing-bottom: {{ mobile_spacing.padding.bottom.value|default(60) }}{{ mobile_spacing.padding.bottom.units|default('px') }};
    {% endif %}
    {% if container_size == 'custom' %}
    --container-width: {{ custom_width|default(1200) }}px;
    {% endif %}
    --card-bg: {{ card.card_bg_color.color|default('#ffffff') }};
    --card-bg-opacity: {{ card.card_bg_color.opacity|default(100) }}%;
    --card-radius: {{ card.card_border_radius|default(16) }}px;
    --card-shadow: {{ card.card_shadow|default(0.1) }};
    --overlay-color: {{ overlay.overlay_color.color|default('#6366f1') }};
    --overlay-opacity: {{ overlay.overlay_color.opacity|default(85) }}%;
    --image-hover-scale: {{ overlay.image_hover_scale|default(110) }}%;
    --category-badge-bg: {{ category_badge.category_bg_color.color|default('#f0f9ff') }};
    --category-badge-bg-opacity: {{ category_badge.category_bg_color.opacity|default(100) }}%;
    --category-badge-text: {{ category_badge.category_text_color.color|default('#6366f1') }};
    --category-badge-text-opacity: {{ category_badge.category_text_color.opacity|default(100) }}%;
    --category-badge-radius: {{ category_badge.category_border_radius|default(20) }}px;
    --featured-badge-bg: {{ featured_badge.featured_badge_bg.color|default('#6366f1') }};
    --featured-badge-bg-opacity: {{ featured_badge.featured_badge_bg.opacity|default(100) }}%;
    --featured-badge-text: {{ featured_badge.featured_badge_text.color|default('#ffffff') }};
    --featured-badge-text-opacity: {{ featured_badge.featured_badge_text.opacity|default(100) }}%;
    --featured-border: {{ featured_badge.featured_border_color.color|default('#6366f1') }};
    --featured-border-opacity: {{ featured_badge.featured_border_color.opacity|default(100) }}%;
    --featured-badge-radius: {{ featured_badge.featured_badge_radius|default(50) }}px;
    --tag-bg: {{ tags.tag_bg_color.color|default('#ec4899') }};
    --tag-bg-opacity: {{ tags.tag_bg_color.opacity|default(100) }}%;
    --tag-text: {{ tags.tag_text_color.color|default('#ffffff') }};
    --tag-text-opacity: {{ tags.tag_text_color.opacity|default(100) }}%;
    --tag-radius: {{ tags.tag_border_radius|default(20) }}px;
    --filter-style: '{{ filters.filter_button_style|default('outline') }}';
    --filter-active: {{ filters.filter_active_color.color|default('#6366f1') }};
    --filter-active-opacity: {{ filters.filter_active_color.opacity|default(100) }}%;
    --filter-radius: {{ filters.filter_border_radius|default(25) }}px;
    --title-color: {{ typography.title_color.color|default('#1e293b') }};
    --title-opacity: {{ typography.title_color.opacity|default(100) }}%;
    --category-color: {{ typography.category_color.color|default('#6366f1') }};
    --category-opacity: {{ typography.category_color.opacity|default(100) }}%;
    --description-color: {{ typography.description_color.color|default('#64748b') }};
    --description-opacity: {{ typography.description_color.opacity|default(100) }}%;
  "
>
  <div class="{{ container_class }}">
    {% if module.section_title %}
    <h2 class="projects-showcase__title">{{ module.section_title }}</h2>
    {% endif %} {% if module.section_subtitle %}
    <p class="projects-showcase__subtitle">{{ module.section_subtitle }}</p>
    {% endif %} {% if module.show_filters %}
    <div class="projects-showcase__filters" data-filter-group>
      <button
        class="projects-showcase__filter-btn projects-showcase__filter-btn--active"
        data-filter="all"
      >
        All Projects
      </button>
      {% set categories = [] %} {% for project in module.projects %} {% if
      project.project_category and project.project_category not in categories %}
      {% do categories.append(project.project_category) %} {% endif %} {% endfor
      %} {% for category in categories %}
      <button
        class="projects-showcase__filter-btn"
        data-filter="{{ category|lower|replace(' ', '-') }}"
      >
        {{ category }}
      </button>
      {% endfor %}
    </div>
    {% endif %}

    <div
      class="projects-showcase__grid projects-showcase__grid--{{ module.layout_style }} projects-showcase__grid--columns-{{ module.columns }}"
    >
      {% for project in module.projects %}
      <div
        class="projects-showcase__card{% if project.featured %} projects-showcase__card--featured{% endif %}"
        data-category="{{ project.project_category|lower|replace(' ', '-') }}"
        data-project-index="{{ loop.index0 }}"
      >
        <div class="projects-showcase__image-wrapper">
          {% set has_image = project.project_image.src and
          project.project_image.src != "" %} {% if has_image %}
          <img
            src="{{ project.project_image.src }}"
            alt="{{ project.project_image.alt|default(project.project_title) }}"
            class="projects-showcase__image"
            {% if loop.index > 3 %}loading="lazy"{% endif %}
          />
          {% else %}
          <div class="projects-showcase__image-placeholder">
            <i class="fas fa-image"></i>
            <span>Upload Project Image</span>
          </div>
          {% endif %} {% if project.featured %}
          <span class="projects-showcase__badge">Featured</span>
          {% endif %} {% if has_image %}
          <div class="projects-showcase__overlay">
            <div class="projects-showcase__links">
              {% if project.project_link %}
              <a
                href="{{ project.project_link }}"
                class="projects-showcase__link-btn"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="View {{ project.project_title }} live project"
              >
                <i class="fas fa-external-link-alt"></i>
                <span class="projects-showcase__link-text">Live Demo</span>
              </a>
              {% endif %} {% if project.github_link %}
              <a
                href="{{ project.github_link }}"
                class="projects-showcase__link-btn"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="View {{ project.project_title }} source code"
              >
                <i class="fab fa-github"></i>
                <span class="projects-showcase__link-text">View Code</span>
              </a>
              {% endif %}
            </div>
          </div>
          {% endif %}
        </div>

        <div class="projects-showcase__content">
          {% if project.project_category %}
          <span class="projects-showcase__category"
            >{{ project.project_category }}</span
          >
          {% endif %}

          <h3 class="projects-showcase__project-title">
            {{ project.project_title }}
          </h3>

          {% if project.project_description %}
          <p class="projects-showcase__description">
            {{ project.project_description }}
          </p>
          {% endif %} {% if project.project_technologies %}
          <div class="projects-showcase__technologies">
            {% set tech_list = project.project_technologies|split(',') %} {% for
            tech in tech_list %}
            <span class="projects-showcase__tech-tag">{{ tech|trim }}</span>
            {% endfor %}
          </div>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
